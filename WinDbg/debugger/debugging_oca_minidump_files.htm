<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Online Crash Analysis (OCA) is the reporting facility for Windows Error Reporting (WER) information. Your company can use OCA crash dumps to analyze customer problems."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Debugging OCA minidump files</title>



<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.debugging_oca_minidump_files"></a>Debugging OCA minidump files</h1>
</div>
<div class="nav_sidebar" style="background: #ebeff0; border: 1px #e3e3e3 solid; padding: 5px; float: right; margin-left: 10px; width: 290px;"><span class="sidebar_heading" style="font-weight: bold;">In this article</span><div class="sidebar_toc">
<p>
<ul>
<li><a href="#analyze_dump_files">Analyze dump files</a></li>
<li><a href="#use_symbols_to_match_executable_code_with_source_code">Use symbols to match executable code with source code</a></li>
<li><a href="#integrate_wer_into_applications">Integrate WER into applications</a></li>
<li><a href="#related_topics">Related topics</a></li>
</ul>
</p>
</div>
</div>
<p>Online Crash Analysis (OCA) is the reporting facility for <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/gg487440">Windows Error Reporting (WER)</a> information. Your company can use OCA crash dumps to analyze customer problems.</p>
<p></p>
<h2><a id="Analyze_dump_files"></a><a id="analyze_dump_files"></a><a id="ANALYZE_DUMP_FILES"></a>Analyze dump files</h2>
<p>Dump files are a snapshot of the state of the computer (or process) at the time of the crash. 

</p>
<p>To analyze this data, a developer must use a debugger that can read user minidump files. The debugger must also have access to both the images and symbols that match the contents of the dump file. Most developers are aware of the need to use matching symbols when debugging a live crash. However, when debugging a minidump, matching images must also be available for the debugger. 
</p>
<p>Matching images must be available because minidump files store very little information; they store only some of the volatile information at the time of the crash. They do not store the basic code streams that the computer loaded into memory. Instead, to save space, the minidump file stores only the name and time stamp of the images loaded on the crashing computer. 

</p>
<p>To examine the code that was running on the crashing computer, the debugger must be given access to the same binaries that the crashing computer was running. The debugger uses the name and time stamp stored in the minidump file to uniquely match and load the binaries when the developer wants to debug the crash. 
</p>
<p>After the images and symbols are loaded in the debugger, you can analyze the state of the system at the time of the crash, including data that was saved after the crash occurred. The minidump does not, however, reproduce the steps that led to the specific failure. Finding the root cause requires analyzing the driver's source code to determine what code path may have led to the failure. Experience has shown that a large percentage of failures can be understood and addressed by analyzing dump files and source code. </p>
<h2><a id="Use_symbols_to_match_executable_code_with_source_code"></a><a id="use_symbols_to_match_executable_code_with_source_code"></a><a id="USE_SYMBOLS_TO_MATCH_EXECUTABLE_CODE_WITH_SOURCE_CODE"></a>Use symbols to match executable code with source code</h2>
<p>The best way to access matching images and symbols is to use the Microsoft symbol server. Symbols are data that enable the debugger to map the executable code back to the source code. When you build a program, the program's symbols are usually stored in symbol files. When a debugger analyzes a program, it needs to access the program's symbols.

</p>
<p>Symbol files can include any or all of the following:
</p>
<ul>
<li>The names and addresses of all functions.


</li>
<li>All data type, structure, and class definitions.


</li>
<li>The names, data types, and addresses of global variables.


</li>
<li>The names, data types, addresses, and scopes of local variables.


</li>
<li>The line number in the source code that corresponds to each binary instruction. 

</li>
</ul>
<p>The <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/gg487463">Windows Driver Kit (WDK)</a> includes tools that can be used to reduce the number of symbols in a symbol file. The symbol files that contain all of the source-level information are called full symbol files. The symbol files with reduced information are called stripped symbol files. </p>
<p>Because symbol data is crucial for getting meaningful crash information from Windows Error Report (WER) data, we encourage you to submit your symbols when you submit drivers to be signed. When symbols are submitted, they are stored on a server that synchronizes symbol data with the associated WER processes. With this storage process, you can easily categorize the crashes reported in the minidump files and ultimately receive better data back from Microsoft. </p>
<p>Microsoft provides a symbol server on the Internet that you can use to analyze the Windows modules that are present in minidump files. The server includes stripped symbol files for Windows and a few other products. Microsoft has added the binaries for Windows XP and Windows Server 2003. You can use the Internet symbol server and the Debugging Tools for Windows to analyze minidump files. </p>
<h2><a id="Integrate_WER_into_applications"></a><a id="integrate_wer_into_applications"></a><a id="INTEGRATE_WER_INTO_APPLICATIONS"></a>Integrate WER into applications</h2>
<p>Information on integrating WER into applications can be found on MSDN at <a href="http://msdn.microsoft.com/en-us/library/bb513616(v=VS.85).aspx">Using WER</a>.</p>
<h2><a id="related_topics"></a>Related topics</h2>
<dl>
<dt><a href="http://download.microsoft.com/download/f/0/5/f05a42ce-575b-4c60-82d6-208d3754b2d6/adv-drv_debug.ppt">Advanced Driver Debugging [336 KB]  [PPT]</a></dt>
<dt><a href="https://go.microsoft.com/fwlink/p/?LinkId=733614">WDK and WinDbg downloads</a></dt>
<dt><a href="http://download.microsoft.com/download/a/f/d/afdfd50d-6eb9-425e-84e1-b4085a80e34e/dvr-t410_wh07.pptx">Driver Debugging Basics [WinHEC 2007; 633 KB]  [PPT] </a></dt>
<dt><a href="http://support.microsoft.com/kb/315263">How to read the small memory dump file that is created by Windows if a crash occurs</a></dt>
<dt><a href="http://msdn.microsoft.com/en-us/library/aa381043.aspx">Resource-Definition Statements</a></dt>
<dt><a href="http://msdn.microsoft.com/en-us/library/bb513641(vs.85).aspx">Windows Error Reporting</a></dt>
<dt><a href="https://msevents.microsoft.com/CUI/EventDetail.aspx?EventId=1032314332">MSDN Webcast: Windows Error Reporting (Level 200)</a></dt>
<dt><a href="http://msdn.microsoft.com/en-us/library/aa381058.aspx">VERSIONINFO resource</a></dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Debugging OCA minidump files%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
