<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Enable page heap"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Enable page heap</title>

<meta name="MS-HAID" content="GFlags_68e44540-168b-4c75-bacd-9cb9d34b1fcc.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.enable_page_heap"></a>Enable page heap</h1>
</div>
<h2><a id="ddk_enable_page_heap_dtools"></a><a id="DDK_ENABLE_PAGE_HEAP_DTOOLS"></a></h2>
<p>The <b>Enable page heap</b> flag turns on page heap verification, which monitors dynamic heap memory operations, including allocate and free operations, and causes a debugger break when the verifier detects a heap error.</p>
<table>
<tr>
<td>
<p><b>Abbreviation</b></p>
</td>
<td>
<p>hpa</p>
</td>
</tr>
<tr>
<td>
<p><b>Hexadecimal value</b></p>
</td>
<td>
<p>0x02000000</p>
</td>
</tr>
<tr>
<td>
<p><b>Symbolic Name</b></p>
</td>
<td>
<p>FLG_HEAP_PAGE_ALLOCS</p>
</td>
</tr>
<tr>
<td>
<p><b>Destination</b></p>
</td>
<td>
<p>System-wide registry entry, kernel flag, image file registry entry</p>
</td>
</tr>
</table>
<p> </p>
<h3><a id="comments"></a><a id="COMMENTS"></a>Comments</h3>
<p>This option enables full page heap verification when set for image files and standard page heap verification when set in the system registry or as a kernel flag.</p>
<ul>
<li>
<p><i>Full page heap verification</i> (for <b>/i</b>) places a zone of reserved virtual memory at the end of each allocation. </p>
</li>
<li>
<p><i>Standard page heap verification</i> (for <b>/r</b> or <b>/k</b>) places random patterns at the end of an allocation and examines the patterns when a heap block is freed. </p>
</li>
</ul>
<p>Setting this flag for an image file is the same as typing<b> gflags /p /enable </b><i>ImageFile</i><b> /full</b> for the image file at the command line.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Enable page heap%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
