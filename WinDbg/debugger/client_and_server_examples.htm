<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Client and Server Examples"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Client and Server Examples</title>

<meta name="MS-HAID" content="r08_use_remote_2553d693-7bdf-4adc-815e-e5ba47d01321.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.client_and_server_examples"></a>Client and Server Examples</h1>
</div>
<h2><a id="ddk_client_and_server_examples_dbg"></a><a id="DDK_CLIENT_AND_SERVER_EXAMPLES_DBG"></a></h2>
<p>Suppose one person is running an application on a computer named <i>\\BOX17</i>. This application has problems, but the debugging technician is at a different site.</p>
<p>The first person sets up a debugging server using CDB on <i>\\BOX17</i>. The target application has a process ID of 122. TCP protocol is chosen, with a socket port number of 1025. The server is started by entering  the following command in an elevated Command Prompt window (Run as Administrator):</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>E:\Debugging Tools for Windows&gt; cdb -server tcp:port=1025 -p 122</pre>
</td>
</tr>
</table></span></div>
<p>On the other computer, the technician decides to use WinDbg as the debugging client. It can be started with this command:</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>G:\Debugging Tools&gt; windbg -remote tcp:server=BOX17,port=1025</pre>
</td>
</tr>
</table></span></div>
<p>Here is another example. In this case, NPIPE protocol is chosen, and CDB is used instead of WinDbg. The first user chooses a pipe name. This can be any alphanumeric string -- in this example, "MainPipe". The first user opens an elevated Command Prompt window (Run as Administrator) and starts a debugging server by entering this command:</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>E:\Debugging Tools for Windows&gt; cdb -server npipe:pipe=MainPipe -v winmine.exe </pre>
</td>
</tr>
</table></span></div>
<p>The technician is logged on to the client computer with an account that does not have access to the server computer. But the technician knows the username and password for an account that does have access to the server computer. The username for that account is Contoso. The technician enters the following command:</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>net use \\BOX17\ipc$ /user:Contoso</pre>
</td>
</tr>
</table></span></div>
<p>When prompted, the technician enters the password for the Contoso account.</p>
<p>The technician is not sure what name was used for the named pipe, so she queries BOX17 for available debugging servers.</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>G:\Debugging Tools&gt; cdb -QR \\BOX17 
Servers on \\BOX17:
Debugger Server - npipe:Pipe=MainPipe
Remote Process Server - npipe:Pipe=AnotherPipe</pre>
</td>
</tr>
</table></span></div>
<p>Two pipes are shown. However, only one is a debugging server -- the other is a process server, and we are not interested in that. So <b>MainPipe</b> must be the correct name. The technician uses the following command to start the debugging client:</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>G:\Debugging Tools&gt; cdb -remote npipe:server=BOX17,pipe=MyPipe </pre>
</td>
</tr>
</table></span></div>
<h3><a id="using_a_secure_server"></a><a id="USING_A_SECURE_SERVER"></a>Using a Secure Server</h3>
<p>Here is an example of a secure server. This server uses secure sockets layer with an S-Channel protocol of TLS1. The debugger will look for the certificate in the machine store. The certificate is specified by its hexadecimal thumbprint.</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>D:\&gt; cdb -server "ssl:proto=tls1,machuser=ab 38 f7 ae 13 20 ac da 05 14 65 60 30 83 7b 83 09 2c d2 34,port=1234" notepad.exe</pre>
</td>
</tr>
</table></span></div>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Client and Server Examples%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
