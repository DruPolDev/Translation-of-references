<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The !tokenfields extension displays the names and offsets of the fields within the access token object (the TOKEN structure)."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>!tokenfields</title>

<meta name="MS-HAID" content="r29_exts_kernel_Q_293206d1-a1f6-4fad-82a6-732b2640d193.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger._tokenfields"></a>!tokenfields</h1>
</div>
<p>The <b>!tokenfields</b> extension displays the names and offsets of the fields within the access token object (the TOKEN structure).</p>
<pre class="syntax"><b>!tokenfields</b></pre>
<h2><a id="ddk__tokenfields_dbg"></a><a id="DDK__TOKENFIELDS_DBG"></a></h2>
<h3><a id="DLL"></a><a id="dll"></a>DLL</h3>
<table>
<tr>
<td>
<p><b>Windows 2000</b></p>
</td>
<td>
<p>
          Kdextx86.dll
         </p>
</td>
</tr>
<tr>
<td>
<p><b>Windows XP and later
         </b></p>
</td>
<td>
<p>Unavailable (see the Remarks section) </p>
</td>
</tr>
</table>
<p> </p>
<h3><a id="Additional_Information"></a><a id="additional_information"></a><a id="ADDITIONAL_INFORMATION"></a>Additional Information</h3>
<p>For information about the TOKEN structure, see <i>Microsoft Windows Internals</i>, by Mark Russinovich and David Solomon. This book may not be available in some languages and 

countries.(The user-mode token structures described in the Microsoft Windows SDK documentation are slightly different.)</p>
<p></p>
<h2>Remarks</h2>
<p>This extension command is not available in Windows XP or later versions of Windows. Instead, use the <a href="dt__display_type_.htm"><b>dt (Display Type)</b></a> command to show the TOKEN structure directly:</p>
<pre class="syntax" xml:space="preserve"><code>kd&gt; dt nt!_TOKEN </code></pre>
<p>To see a specific instance of the TOKEN structure, use the <a href="_token.htm"><b>!token</b></a> extension.</p>
<p>Here is an example of <b>!tokenfields</b> from a Windows 2000 system:</p>
<pre class="syntax" xml:space="preserve"><code>kd&gt; !tokenfields
 TOKEN structure offsets:
    TokenSource:           0x0
    AuthenticationId:      0x18
    ExpirationTime:        0x28
    ModifiedId:            0x30
    UserAndGroupCount:     0x3c
    PrivilegeCount:        0x44
    VariableLength:        0x48
    DynamicCharged:        0x4c
    DynamicAvailable:      0x50
    DefaultOwnerIndex:     0x54
    DefaultDacl:           0x6c
    TokenType:             0x70
    ImpersonationLevel:    0x74
    TokenFlags:            0x78
    TokenInUse:            0x79
 ProxyData:             0x7c
    AuditData:             0x80
    VariablePart:          0x84</code></pre>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20!tokenfields%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
