<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The BUGCODE_USB3_DRIVER bug check has a value of 0x00000144. This is the code used for all USB 3 bug checks. Parameter 1 specifies the type of the USB 3 bug check, and the meanings of the other parameters are dependent on Parameter 1."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Bug Check 0x144: BUGCODE_USB3_DRIVER</title>



<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.bug_check_0x144__bugcode_usb3_driver"></a>Bug Check 0x144: BUGCODE_USB3_DRIVER</h1>
</div>
<p>The <b>BUGCODE_USB3_DRIVER</b> bug check has a value of 0x00000144.  This is the code used for all USB 3 bug checks. Parameter 1 specifies the type of the USB 3 bug check, and the meanings of the other parameters are dependent on Parameter 1.</p>
<p>
<div class="alert"><b>Important </b>This topic is for programmers. If you are a customer who has received a blue screen error code while using your computer, see 
            <a href="http://windows.microsoft.com/en-us/windows-10/troubleshoot-blue-screen-errors" xmlns:loc="http://microsoft.com/wdcml/l10n">Troubleshoot blue screen errors</a>.</div>
</p>
<h2>BUGCODE_USB3_DRIVER Parameters</h2>
<p>The following parameters are displayed on the blue screen. </p>
<table>
<tr>
<th>Parameter 1</th>
<th>Parameter 2</th>
<th>Parameter 3</th>
<th>Parameter 4</th>
<th>Cause of error</th>
</tr>
<tr>
<td>
<p>0x1</p>
</td>
<td>
<p>Optional. Pointer to the IRP used to resend the URB</p>
</td>
<td>
<p>Pointer to the URB</p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>A client driver used an URB that it had previously sent to the core stack.</p>
</td>
</tr>
<tr>
<td>
<p>0x2</p>
</td>
<td>
<p>Pointer to the physical device object (PDO) for the boot device</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>A boot or paging device 
               failed re-enumeration.
</p>
</td>
</tr>
<tr>
<td>
<p>0x3</p>
</td>
<td>
<p>Optional. Pointer to the IRP used to send the URB</p>
</td>
<td>
<p>Pointer to the corrupted URB </p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>A client driver sent a 
               corrupted URB to the core stack. This can happen because 
               the client driver did not allocate the URB using 
                 <b>USBD_<i>xxx</i>UrbAllocate</b> or because the client driver did a buffer underrun for the URB.
</p>
</td>
</tr>
<tr>
<td>
<p>0x800</p>
</td>
<td>
<p>IRQL at which the Open Static Streams request was sent</p>
</td>
<td>
<p>Pointer to the Open Static Streams IRP</p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>An Open Static Streams request was sent at IRQL &gt; PASSIVE LEVEL.
</p>
</td>
</tr>
<tr>
<td>
<p>0x801</p>
</td>
<td>
<p> Pointer to the Open Static Streams IRP
</p>
</td>
<td>
<p>Pointer to the Open Static Streams URB</p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>A client driver attempted to open static streams before querying for streams capability. A client driver cannot open a static stream until after it successfully queries for the streams capability. For more information, see Remarks.</p>
</td>
</tr>
<tr>
<td>
<p>0x802</p>
</td>
<td>
<p>Number of static streams that the client driver tried to open</p>
</td>
<td>
<p>Number of static streams that were granted to the client driver</p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>A Client driver tried to open an invalid number of 
               static streams. The number of streams cannot be 0 and cannot
               be greater than the value returned to the client driver in 
               the query USB capability call.</p>
</td>
</tr>
<tr>
<td>
<p>0x803</p>
</td>
<td>
<p>Pointer to the Open Static Streams IRP
</p>
</td>
<td>
<p>Pointer to the Open Static Streams URB</p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>A client driver attempted to open static streams for an endpoint that already had static streams open. Before opening static streams, the client driver must close the previously opened static streams.</p>
</td>
</tr>
<tr>
<td>
<p>0x804</p>
</td>
<td>
<p>The leaked handle context. Run <b>!usbanalyze -v</b> to get 
                   information about the leaked handle and URBs. You must enable Driver Verifier for the client driver.</p>
</td>
<td>
<p>Device object passed to <b>USBD_CreateHandle</b>.
</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>A client driver
               forgot to close a handle it created earlier using 
               <b>USBD_CreateHandle</b> or forgot to free an URB it allocated.</p>
</td>
</tr>
<tr>
<td>
<p>0x805</p>
</td>
<td>
<p>WDFREQUEST handle for the Close Static Streams URB</p>
</td>
<td>
<p>Pointer to the Close Static Streams URB</p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>A client driver sent a Close Static Streams URB in an invalid
               state (for example, after processing D0 Exit).</p>
</td>
</tr>
<tr>
<td>
<p>0x806</p>
</td>
<td>
<p>Pointer to the IRP</p>
</td>
<td>
<p>Pointer to the URB</p>
</td>
<td>
<p>Pointer to the client driver's device object</p>
</td>
<td>
<p>A client driver attempted to send a chained <b>MDL</b> before querying for chained <b>MDL</b> capability. A client driver cannot send a chained <b>MDL</b> until after it successfully queries for the chained <b>MDL</b> capability. For more information, see Remarks.</p>
</td>
</tr>
<tr>
<td>
<p>0x807</p>
</td>
<td>
<p>Pointer to the chained <b>MDL</b></p>
</td>
<td>
<p>Pointer to the URB</p>
</td>
<td>
<p>Pointer to the client driver's device object if available</p>
</td>
<td>
<p>A client driver sent an URB to the core stack with a transfer buffer length 
               longer than the byte count (returned by <b>MmGetMdlByteCount</b>)  of the <b>MDL</b> passed in. For more information, see Remarks.</p>
</td>
</tr>
<tr>
<td>
<p>0x1001</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The xHCI controller asserted the HSE bit, which indicates a
                host system error.</p>
</td>
</tr>
<tr>
<td>
<p>0x1002</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The xHCI controller asserted the HCE bit, which indicates a
                host controller error.</p>
</td>
</tr>
<tr>
<td>
<p>0x1003</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The xHCI stop endpoint command returned an unhandled completion
                code.</p>
</td>
</tr>
<tr>
<td>
<p>0x1004</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The xHCI endpoint state received a context state error after an
                xHCI endpoint stop command was issued.</p>
</td>
</tr>
<tr>
<td>
<p>0x1005</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p> Set dequeue pointer failed during an attempt to clear stall on
                control endpoint.</p>
</td>
</tr>
<tr>
<td>
<p>0x1006</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>                Reset EP failed during an attempt to clear stall on control
                endpoint.</p>
</td>
</tr>
<tr>
<td>
<p>0x1007</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The reset of the xHCI controller failed during reset recovery.</p>
</td>
</tr>
<tr>
<td>
<p>0x1008</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>  The restart of the xHCI controller failed during reset recovery.</p>
</td>
</tr>
<tr>
<td>
<p>0x1009</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>        An xHCI controller command failed to complete after the command
                timeout abort.</p>
</td>
</tr>
<tr>
<td>
<p>0x100A</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>         Set dequeue pointer failed during an attempt to set the dequeue
                pointer after endpoint stop completion.</p>
</td>
</tr>
<tr>
<td>
<p>0x100B</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p> The stop of the xHCI controller failed during reset recovery.</p>
</td>
</tr>
<tr>
<td>
<p>0x100C</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>                The firmware in the xHCI controller is not supported. The xHCI
                driver will not load on this controller unless the firmware is
                updated.</p>
</td>
</tr>
<tr>
<td>
<p>0x100D</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The controller was detected to be physically removed.</p>
</td>
</tr>
<tr>
<td>
<p>0x100E</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The driver detect an error on a stream enabled endpoint.</p>
</td>
</tr>
<tr>
<td>
<p>0x100F</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The firmware in the xHCI controller is outdated. The xHCI driver
                will continue working with this controller but may run into some
                issues. A firmware update is recommended.</p>
</td>
</tr>
<tr>
<td>
<p>0x1010</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p> A transfer event TRB completed with an unhandled completion code.</p>
</td>
</tr>
<tr>
<td>
<p>0x1011</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The controller reported that the event ring became full. The controller
                is also known to drop events when this happens.</p>
</td>
</tr>
<tr>
<td>
<p>0x1012</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The controller completed a command out of order.</p>
</td>
</tr>
<tr>
<td>
<p>0x1013</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p> After command abort completion, the command ring dequeue pointer reported
                by the controller is incorrect.</p>
</td>
</tr>
<tr>
<td>
<p>0x1014</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>  After enable slot completion, controller gave us a bad slot id.</p>
</td>
</tr>
<tr>
<td>
<p>0x1015</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Controller failed a SetAddress command with BSR1. That is unexpected.</p>
</td>
</tr>
<tr>
<td>
<p>0x1016</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Controller failed to enable a slot during a usbdevice reset. This is unexpected.</p>
</td>
</tr>
<tr>
<td>
<p>0x1017</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p> Controller failed an endpoints configure command where we were deconfiguring
                the endpoints. That is unexpected.</p>
</td>
</tr>
<tr>
<td>
<p>0x1018</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Controller failed a disable slot command. That is unexpected.</p>
</td>
</tr>
<tr>
<td>
<p>0x1019</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Controller failed a USB device reset command. That is unexpected.</p>
</td>
</tr>
<tr>
<td>
<p>0x101A</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>After endpoint reset, Set Dequeue Pointer command failed.</p>
</td>
</tr>
<tr>
<td>
<p>0x101B</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The xHCI reset endpoint command returned an unhandled completion code.</p>
</td>
</tr>
<tr>
<td>
<p>0x101C</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The D0Entry for xHCI failed.</p>
</td>
</tr>
<tr>
<td>
<p>0x101D</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Temporarily dropping and adding a stream endpoint (as two commands) failed, when
                using the Configure Endpoint command instead of Set Dequeue Pointer
                during request cancellation.</p>
</td>
</tr>
<tr>
<td>
<p>0x101E</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p> The controller indicated a transfer completion that was not pending on
                the controller. EventData == 1 (dereferencing the Transfer Event TRB's
                pointer would have caused a bugcheck)</p>
</td>
</tr>
<tr>
<td>
<p>0x101F</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>           The controller indicated a transfer completion that was not pending
                on the controller. EventData == 0 (logical address in transfer event TRB not matched)</p>
</td>
</tr>
<tr>
<td>
<p>0x1020</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>  The controller indicated a transfer completion that was not pending on the controller.
                EventData == 0 (logical address in transfer event TRB not matched)
                The Transfer Event TRB may be redundant (points somewhere near a recently completed request).</p>
</td>
</tr>
<tr>
<td>
<p>0x1021</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>   Temporarily dropping and adding a stream endpoint (as two commands) failed, when
                using the Configure Endpoint command as part of resetting an endpoint that was
                not Halted.</p>
</td>
</tr>
<tr>
<td>
<p>0x1022</p>
</td>
<td>
<p>XHCI_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>   Dropping and adding the same endpoint (as one command) failed.</p>
</td>
</tr>
<tr>
<td>
<p>0x3000</p>
</td>
<td>
<p>USBHUB3_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>A misbehaving hub was successfully reset by the hub driver.</p>
</td>
</tr>
<tr>
<td>
<p>0x3001</p>
</td>
<td>
<p>USBHUB3_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>A misbehaving hub failed to be reset successfully by the hub driver.</p>
</td>
</tr>
<tr>
<td>
<p>0x3002</p>
</td>
<td>
<p>USBHUB3_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>A non-function SuperSpeed hub was disabled by the hub driver.</p>
</td>
</tr>
<tr>
<td>
<p>0x3003</p>
</td>
<td>
<p>USBHUB3_LIVEDUMP_CONTEXT</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p> A USB device failed enumeration.</p>
</td>
</tr>
</table>
<p> </p>
<h2>Remarks</h2>
<p>To query for a USB capability, the client driver must call <b>WdfUsbTargetDeviceQueryUsbCapability</b> or <b>USBD_QueryUsbCapability</b></p>
<p>To send a chained <b>MDL</b>, the
               client driver must call <b>USBD_QueryUsbCapability</b> and use <b>URB_FUNCTION_BULK_OR_INTERRUPT_TRANSFER_USING_CHAINED_MDL</b> or
               <b>URB_FUNCTION_ISOCH_TRANSFER_USING_CHAINED_MDL</b>.</p>
<h2><a id="see_also"></a>See also</h2>
<dl>
<dt>Universal Serial Bus (USB)</dt>
</dl>
<p> </p>
<p> </p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
