<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Requesting Special Pool by Pool Tag"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Requesting Special Pool by Pool Tag</title>

<meta name="MS-HAID" content="GFlags_d489ceaf-72af-47bb-a355-06e6cd54e560.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.requesting_special_pool_by_pool_tag"></a>Requesting Special Pool by Pool Tag</h1>
</div>
<h2><a id="ddk_requesting_special_pool_for_allocations_with_a_specified_pool_tag_"></a><a id="DDK_REQUESTING_SPECIAL_POOL_FOR_ALLOCATIONS_WITH_A_SPECIFIED_POOL_TAG_"></a></h2>
<p>You can request special pool for all allocations that use a specified pool tag. Only one pool tag on the system can be associated with kernel special pool requests at one time.</p>
<p>In Windows Vista and later versions of Windows, you can also use the command line to request special pool by pool tag. For information, see <a href="gflags_commands.htm"><b>GFlags Commands</b></a>.</p>
<p class="proch"><img src="../common/wedge.gif" alt=""/><b>To request special pool by pool tag</b></p>
<ol>
<li>
<p>Select the <b>System Registry</b> tab or the <b>Kernel Flags</b> tab.</p>
<p>On Windows Vista and later versions of Windows, this option is available on both tabs. On earlier versions of Windows, it is available only on the <b>System Registry</b> tab.</p>
</li>
<li>
<p>In the <b>Kernel Special Pool Tag</b> section, click <b>Text</b>, and then type a four-character pattern for the tag. </p>
<p>The tag can include the <b>?</b> (single character) and <b>*</b> (multiple characters) wildcard characters. For example, Fat* or Av?4.</p>
</li>
<li>
<p>The following screen shot shows a tag entered as text on the System Registry tab.</p>
<p><img src="images/gflags-specialpool-text.PNG" alt="Screen shot of a tag entered as text on the System Registry tab"/></p>
</li>
<li>
<p>Click <b>Apply</b>.</p>
<p>When you click <b>Apply</b>, GFlags changes the selection from <b>Text</b> to <b>Hex</b> and displays the ASCII characters as hexadecimal values in reverse (lower endian) order. For example, if you type <b>Tag1</b>, GFlags displays the tag as <b>0x31676154</b> (1gaT). This is the way that it is stored in the registry and displayed by the debugger and other tools.</p>
<p>The following illustration shows the effect of clicking <b>Apply</b>.</p><img src="images/gflags-specialpool-hex.PNG" alt="Screen shot that shows the effect of clicking Apply"/></li>
</ol>
<h3><a id="comments"></a><a id="COMMENTS"></a>Remarks</h3>
<p>To use this feature effectively, make sure that your driver or other kernel-mode program uses a unique pool tag. If you suspect that your driver is consuming all of the special pool, consider using multiple pool tags in your code. You can then test your driver several times, assigning special pool to one pool tag in each test.</p>
<p>Also, select a pool tag with a hexadecimal value that is greater than the page size of the system. For kernel mode code, if you enter a pool tag that has a value less than PAGE_SIZE, Gflags requests special pool for all allocations whose size is within the corresponding range <u>and</u> requests special pool for allocations with an equivalent pool tag. For example, if you select a size of <b>30</b>, special pool will be used for all allocations between 17 and 32 bytes in size, <u>and</u> for allocations with the pool tag 0x0030.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Requesting Special Pool by Pool Tag%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
