<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Choosing the Best Method"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Choosing the Best Method</title>

<meta name="MS-HAID" content="t13_advanced_421325cc-6e83-41aa-81d5-57a3ba622c23.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.choosing_the_best_method"></a>Choosing the Best Method</h1>
</div>
<p>There are several different ways to debug a service application. In order to choose the correct method, you must first make two choices:  the time at which the debugger is attached to the service application and what debugging configuration to use.</p>
<p>There are three stages at which the debugger can be attached to the service application:</p>
<ul>
<li>
<p>The very beginning of the service startup. The debugger is automatically launched when the service begins. Choose this option if you want to debug the service's initialization code. </p>
</li>
<li>
<p>The first time that the service encounters an exception. The debugger is automatically launched when an exception or crash occurs or if the service application calls the <b>DebugBreak</b> function. Choose this option if you want the debugger to appear when a problem is encountered but not before. </p>
</li>
<li>
<p>After the service is running normally. You can manually attach a debugger to a service that is already running at any time. Choose this option if you do not want to make advance preparations for debugging. </p>
</li>
</ul>
<p>There are three debugging configurations you can choose:</p>
<ul>
<li>
<p>Local debugging.  A single debugger, running on the same computer as the service. </p>
</li>
<li>
<p>Remote debugging.  A debugging server running on the same computer as the service, being controlled from a debugging client running on a second computer. </p>
</li>
<li>
<p>Kernel-controlled user-mode debugging.  A user-mode debugger running on the same computer as the service, being controlled from a kernel debugger on a second computer. </p>
</li>
</ul>
<p>If your service is running on Windows 2000, Windows XP, or Windows Server 2003, you can combine any of these three attach options with any of these three debugging configuration options.</p>
<p>If your service is running on Windows Vista or a later version of Windows, there is one restriction on how these choices can be combined. If you want to debug from the beginning of the service startup, or from the time that an exception is encountered, you must use either remote debugging or kernel-controlled user-mode debugging.</p>
<p>In other words, on Windows Vista and later, you cannot use local debugging unless you plan to attach the debugger manually after the service is already running. This restriction results from the fact that in these versions of Windows, services run in session 0, and any debugger that is <u>automatically</u> launched and attached to the service is also in session 0, and does not have a user interface on the computer that the service is running on.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Choosing the Best Method%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
