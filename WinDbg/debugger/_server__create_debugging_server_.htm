<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The .server command starts a debugging server, allowing a remote connection to the current debugging session."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>.server (Create Debugging Server)</title>

<meta name="MS-HAID" content="r22_metacmds_S_470f7645-3307-462c-843b-6ff9976e82fc.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger._server__create_debugging_server_"></a>.server (Create Debugging Server)</h1>
</div>
<p>The <b>.server</b> command starts a debugging server, allowing a remote connection to the current debugging session.</p>
<pre class="syntax"><b>.server npipe:pipe=</b><i>PipeName</i><b>[,hidden][,password=</b><i>Password</i><b>][,IcfEnable]</b> 
<b>.server tcp:port=</b><i>Socket</i><b>[,hidden][,password=</b><i>Password</i><b>][,ipversion=6][,IcfEnable]</b> 
<b>.server tcp:port=</b><i>Socket</i><b>,clicon=</b><i>Client</i><b>[,password=</b><i>Password</i><b>][,ipversion=6]</b> 
<b>.server com:port=</b><i>COMPort</i><b>,baud=</b><i>BaudRate</i><b>,channel=</b><i>COMChannel</i><b>[,hidden][,password=</b><i>Password</i><b>]</b> 
<b>.server spipe:proto=</b><i>Protocol</i><b>,{certuser=</b><i>Cert</i><b>|machuser=</b><i>Cert</i><b>},pipe=</b><i>PipeName</i><b>[,hidden][,password=</b><i>Password</i><b>]</b> 
<b>.server ssl:proto=</b><i>Protocol</i><b>,{certuser=</b><i>Cert</i><b>|machuser=</b><i>Cert</i><b>},port=</b><i>Socket</i><b>[,hidden][,password=</b><i>Password</i><b>]</b> 
<b>.server ssl:proto=</b><i>Protocol</i><b>,{certuser=</b><i>Cert</i><b>|machuser=</b><i>Cert</i><b>},port=</b><i>Socket</i><b>,clicon=</b><i>Client</i><b>[,password=</b><i>Password</i><b>]</b> 
</pre>
<h2><a id="ddk_meta_create_debugging_server_dbg"></a><a id="DDK_META_CREATE_DEBUGGING_SERVER_DBG"></a>Parameters</h2>
<p></p>
<dl>
<dt><a id="_______PipeName______"></a><a id="_______pipename______"></a><a id="_______PIPENAME______"></a>       <i>PipeName</i>      </dt>
<dd>
<p>When NPIPE or SPIPE protocol is used, <i>PipeName</i> is a string that will serve as the name of the pipe. Each pipe name should identify a unique debugging server. If you attempt to reuse a pipe name, you will receive an error message. <i>PipeName</i> must not contain spaces or quotation marks. <i>PipeName</i> can include a numerical <b>printf</b>-style format code, such as %x or %d. The debugger will replace this with the process ID of the debugger. A second such code will be replaced with the thread ID of the debugger.</p>
</dd>
<dt><a id="_______Socket______"></a><a id="_______socket______"></a><a id="_______SOCKET______"></a>       <i>Socket</i>      </dt>
<dd>
<p>When TCP or SSL protocol is used, <i>Socket</i> is the socket port number.</p>
<p>It is also possible to specify a range of ports separated by a colon. The debugger will check each port in this range to see if it is free. If it finds a free port and no error occurs, the debugging server will be created. The debugging client will have to specify the actual port being used to connect to the server. To determine the actual port, use any of the methods described in <a href="searching_for_debugging_servers.htm"><b>Searching for Debugging Servers</b></a>; when this debugging server is displayed, the port will be followed by two numbers separated by a colon. The first number will be the actual port used; the second can be ignored. For example, if the port was specified as port=51:60, and port 53 was actually used, the search results will show "port=53:60". (If you are using the <b>clicon</b> parameter to establish a reverse connection, the debugging client can specify a range of ports in this manner, while the server must specify the actual port used.) </p>
</dd>
<dt><a id="clicon_Client"></a><a id="clicon_client"></a><a id="CLICON_CLIENT"></a><b>clicon=</b><i>Client</i></dt>
<dd>
<p>When TCP or SSL protocol is used and the <b>clicon</b> parameter is specified, a <i>reverse connection</i> will be opened. This means that the debugging server will try to connect to the debugging client, instead of letting the client initiate the contact. This can be useful if you have a firewall that is preventing a connection in the usual direction. <i>Client</i> specifies the network name of the machine on which the debugging client exists or will be created. The two initial backslashes (\\) are optional.
		</p>
<p>When <b>clicon</b> is used, it is best to start the debugging client before the debugging server is created, although the usual order (server before client) is also permitted. A reverse-connection server will not appear when another debugger displays all active servers.</p>
</dd>
<dt><a id="_______COMPort______"></a><a id="_______comport______"></a><a id="_______COMPORT______"></a>       <i>COMPort</i>      </dt>
<dd>
<p>When COM protocol is used, <i>COMPort</i> specifies the COM port to be used. The prefix COM is optional (for example, both "com2" and "2" are acceptable).</p>
</dd>
<dt><a id="_______BaudRate______"></a><a id="_______baudrate______"></a><a id="_______BAUDRATE______"></a>       <i>BaudRate</i>      </dt>
<dd>
<p>When COM protocol is used, <i>BaudRate</i> specifies the baud rate at which the connection will run. Any baud rate that is supported by the hardware is permitted.</p>
</dd>
<dt><a id="_______COMChannel______"></a><a id="_______comchannel______"></a><a id="_______COMCHANNEL______"></a>       <i>COMChannel</i>      </dt>
<dd>
<p>If COM protocol is used, <i>COMChannel</i> specifies the COM channel to be used in communicating with the debugging client. This can be any value between 0 and 254, inclusive.</p>
</dd>
<dt><a id="_______Protocol______"></a><a id="_______protocol______"></a><a id="_______PROTOCOL______"></a>       <i>Protocol</i>      </dt>
<dd>
<p>If SSL or SPIPE protocol is used, <i>Protocol</i> specifies the Secure Channel (S-Channel) protocol. This can be any one of the strings tls1, pct1, ssl2,  or ssl3.</p>
</dd>
<dt><a id="_______Cert______"></a><a id="_______cert______"></a><a id="_______CERT______"></a>       <i>Cert</i>      </dt>
<dd>
<p>If SSL or SPIPE protocol is used, <i>Cert</i> specifies the certificate. This can either be the certificate name or the certificate's thumbprint (the string of hexadecimal digits given by the certificate's snapin). If the syntax <b>certuser=</b><i>Cert</i> is used, the debugger will look up the certificate in the system store (the default store). If the syntax <b>machuser=</b><i>Cert</i> is used, the debugger will look up the certificate in the machine store. The specified certificate must support server authentication.</p>
</dd>
<dt><a id="_______hidden______"></a><a id="_______HIDDEN______"></a>       <b>hidden</b>      </dt>
<dd>
<p>Prevents the server from appearing when another debugger displays all active servers.</p>
</dd>
<dt><a id="password_Password"></a><a id="password_password"></a><a id="PASSWORD_PASSWORD"></a><b>password=</b><i>Password</i></dt>
<dd>
<p>Requires a debugging client to supply the specified password in order to connect to the debugging session. <i>Password</i> can be any alphanumeric string, up to twelve characters in length.</p>
</dd>
<dt><a id="_______ipversion_6______"></a><a id="_______IPVERSION_6______"></a>       <b>ipversion=6</b>      </dt>
<dd>
<p>
       (Debugging Tools for Windows 6.6.07 and earlier only) Forces the debugger to use IP version 6  rather than version 4 when using TCP to connect to the Internet.  In Windows Vista and later versions, the debugger attempts to auto-default to IP version 6, making this option unnecessary.  
		 </p>
</dd>
<dt><a id="_______IcfEnable______"></a><a id="_______icfenable______"></a><a id="_______ICFENABLE______"></a>       <b>IcfEnable</b>      </dt>
<dd>
<p>
       (Windows XP and later versions only)  Causes the debugger to enable the necessary port connections for TCP or named pipe communication when the Internet Connection Firewall is active. By default, the Internet Connection Firewall disables the ports used by these protocols. When <b>IcfEnable</b> is used with a TCP connection, the debugger causes Windows to open the port specified by the Socket parameter. When <b>IcfEnable</b> is used with a named pipe connection, the debugger causes Windows to open the ports used for named pipes (ports 139 and 445). The debugger does not close these ports after the connection terminates.</p>
</dd>
</dl>
<h3><a id="Environment"></a><a id="environment"></a><a id="ENVIRONMENT"></a>Environment</h3>
<table>
<tr>
<td>
<p><b>Modes</b></p>
</td>
<td>
<p>user mode, kernel mode</p>
</td>
</tr>
<tr>
<td>
<p><b>
          Targets</b></p>
</td>
<td>
<p>live, crash dump</p>
</td>
</tr>
<tr>
<td>
<p><b>Platforms</b></p>
</td>
<td>
<p>all </p>
</td>
</tr>
</table>
<p> </p>
<h3><a id="Additional_Information"></a><a id="additional_information"></a><a id="ADDITIONAL_INFORMATION"></a>Additional Information</h3>
<p>For full details on how to start a debugging server, see <a href="activating_a_debugging_server.htm"><b>Activating a Debugging Server</b></a>. For examples, see <a href="client_and_server_examples.htm">Client and Server Examples</a>.</p>
<h2>Remarks</h2>
<p>This command turns the current debugger into a debugging server. This allows you to start the server after the debugger is already running, whereas the -server <a href="command_line_options.htm">command-line option</a> can only be issued when the debugger is started.</p>
<p>This permits a debugging client to connect to the current debugging session. Note that it is possible to start multiple servers using different options, allowing different kinds of debugging clients to join the session.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20.server (Create Debugging Server)%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
