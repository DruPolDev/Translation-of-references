<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Debugging the Service Application Manually"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Debugging the Service Application Manually</title>

<meta name="MS-HAID" content="t13_advanced_8dded06a-1586-4f86-9ff9-bca1fca5380f.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.debugging_the_service_application_manually"></a>Debugging the Service Application Manually</h1>
</div>
<p>Manually attaching to a service application after it has been started is much like debugging any running user-mode process.</p>
<p>Use <a href="tlist.htm">the TList tool</a> with the <b>/s</b> option to display the process ID (PID) of each running process and the services active in each process.</p>
<p>If the service application you want to debug is combined with other services in a single process, you must isolate it before debugging it.  To do this, perform the procedure described in Isolating the Service.  At the end of this procedure,  restart the service.</p>
<p>To determine the new PID of the service, issue the following Service Configuration tool (Sc.exe) command, where <i>ServiceName</i> is the name of the service:</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>sc queryex ServiceName </pre>
</td>
</tr>
</table></span></div>
<p>Now start WinDbg or CDB with this service application as the target. There are three ways to do this: by specifying the PID with the -p option, by specifying the executable name with the -pn option (if the executable name is unique), or by specifying the service name with the -psn option.  </p>
<p>For example, if the process SpoolSv.exe has a PID of 651 and contains the service named <i>Spooler</i>, the following three commands are equivalent:</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>windbg -p 651 [AdditionalOptions] 
windbg -pn spoolsv.exe [AdditionalOptions] 
windbg -psn spooler [AdditionalOptions] </pre>
</td>
</tr>
</table></span></div>
<p>After the debugger starts, proceed as you would in any other user-mode debugging session.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Debugging the Service Application Manually%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
