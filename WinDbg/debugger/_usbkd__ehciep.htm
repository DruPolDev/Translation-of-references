<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The !usbkd._ehciep command displays information from a usbehci!_ENDPOINT_DATA structure. Use this command to display information about asynchronous endpoints (that is, control and bulk endpoints)."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>!usbkd._ehciep</title>



<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger._usbkd__ehciep"></a>!usbkd._ehciep</h1>
</div>
<p>The  <b>!usbkd._ehciep</b> command displays information from a  <b>usbehci!_ENDPOINT_DATA</b> structure. Use this command to display information about asynchronous endpoints (that is, control and bulk endpoints).</p>
<pre class="syntax"><b>!usbkd._ehciep </b><i>StructAddr</i></pre>
<h2><a id="ddk__devobj_dbg"></a><a id="DDK__DEVOBJ_DBG"></a>Parameters</h2>
<p></p>
<dl>
<dt><a id="_______StructAddr______"></a><a id="_______structaddr______"></a><a id="_______STRUCTADDR______"></a>       <i>StructAddr</i>      </dt>
<dd>
<p>Address of a <b>usbehci!_ENDPOINT_DATA</b> structure. To find addresses of <b>usbehci!_ENDPOINT_DATA</b> structures, use <a href="_usbkd_usbhcdext.htm"><b>!usbhcdext</b></a> and <a href="_usbkd_usblist.htm"><b>!usblist</b></a>.</p>
</dd>
</dl>
<h2><a id="DLL"></a><a id="dll"></a>DLL</h2>
<p>Usbkd.dll
     </p>
<h2>Examples</h2>
<p>This example shows one way to get the address of a <b>usbehci!_ENDPOINT_DATA</b> structure. Start with the <a href="_usbkd_usb2tree.htm"><b>!usb2tree</b></a> command.</p>
<pre class="syntax" xml:space="preserve"><code>0: kd&gt; !usbkd.usb2tree
...
2)!ehci_info ffffe0000206e1a0 !devobj ffffe0000206e050 PCI: VendorId 8086 DeviceId 293c RevisionId 0002 
    RootHub !hub2_info ffffe000024a61a0 !devstack ffffe000024a6050
        Port 1: !port2_info ffffe000026dd000 
        Port 2: !port2_info ffffe000026ddb40 
        Port 3: !port2_info ffffe000026de680 !devstack ffffe00001ec3060
            !device2_info ffffe00001ec31b0 (USB Mass Storage Device: Xxx Corporation)
        Port 4: !port2_info ffffe000026df1c0 </code></pre>
<p>In the preceding output, the address of the device extension of the FDO is displayed as the argument of the <a href="debugger_markup_language_commands.htm">DML</a> command <b>!ehci_info ffffe0000206e1a0</b>. Either click the DML command  or pass the address of the device extension to <b>!usbhcdext</b>.</p>
<pre class="syntax" xml:space="preserve"><code>0: kd&gt; !usbkd.usbhcdext ffffe0000206e1a0
...
DeviceHandleList: !usblist ffffe0000206f3b8, DL 
DeviceHandleDeletedList: !usblist ffffe0000206f3c8, DL [Empty]
GlobalEndpointList: !usblist ffffe0000206f388, EP 
...</code></pre>
<p>The preceding output displays the command <b>!usblist ffffe0000206f388, EP</b>. Use this command to display a list of endpoints.</p>
<pre class="syntax" xml:space="preserve"><code>0: kd&gt; !usblist ffffe0000206f388, EP 
list: ffffe0000206f388 EP
...
dt usbport!_HCD_ENDPOINT ffffe000026dc970  !usbep ffffe000026dc970
common buffer bytes 0x00003000 (12288) @ va 0000000021e6e000 pa 00000000d83c9000
Device Address: 0x01, ep 0x81 Bulk In Flags: 00000041 dt _USB_ENDPOINT_FLAGS ffffe000026dc990
... usbehci!_ENDPOINT_DATA ffffe000026dcc38
...</code></pre>
<p>In the preceding output,  <code>ffffe000026dcc38</code> is the address of a <b>usbehci!_ENDPOINT_DATA</b> structure. Pass this address to <b>!_ehciep</b>.</p>
<pre class="syntax" xml:space="preserve"><code>0: kd&gt; !usbkd._ehciep ffffe000026dcc38
*USBEHCI
dt usbehci!_ENDPOINT_DATA ffffe000026dcc38
Flags: 0x00000000
dt usbehci!_HCD_QUEUEHEAD_DESCRIPTOR ffffd00021e6e080
*HwQH ffffd00021e6e080
HwQH
	 HwQH.HLink dea2e002
	 HwQH.EpChars 02002101
		 DeviceAddress: 0x1
		 IBit: 0x0
		 EndpointNumber: 0x1
		 EndpointSpeed: 0x2 HcEPCHAR_HighSpeed
		 DataToggleControl: 0x0
		 HeadOfReclimationList: 0x0
		 MaximumPacketLength: 0x200 - 512
   ...
current slot 0000000000000000
slot[0] dt usbehci!_ENDPOINT_SLOT ffffe000026dcdb8 - slot_NotBusy
----
	 ffffd00021e6e100
	 dt usbehci!_HCD_TRANSFER_DESCRIPTOR ffffd00021e6e100
	tdphys: d83c9100'200 txlen 00000000 tx ffffd00000000041 flags 6d4e695d  _BUSY _SLOT_RESET
	Next_qTD: d83c9200'd83c9180 AltNext_qTD 77423c00'41 
	NextTD: ffffd00021e6e200 AltNextTD ffffd00021e6e180 SlotNextTd ffffd00021e6e200 tok 00000c00  Xbytes x0 (0)
.
	 ffffd00021e6e200
	 dt usbehci!_HCD_TRANSFER_DESCRIPTOR ffffd00021e6e200
	tdphys: d83c9200'5000 txlen 00000000 tx ffffd00000000041 flags 6d4e695d  _BUSY _SLOT_RESET
	Next_qTD: d83c9280'd83c9180 AltNext_qTD 77423c00'41 
	NextTD: ffffd00021e6e280 AltNextTD ffffd00021e6e180 SlotNextTd ffffd00021e6e280 tok 00000c00  Xbytes x0 (0)
...</code></pre>
<h2><a id="see_also"></a>See also</h2>
<dl>
<dt><a href="usb_2_0_extensions.htm">USB 2.0 Debugger Extensions</a></dt>
<dt><a href="http://go.microsoft.com/fwlink/p?LinkID=227351">Universal Serial Bus (USB) Drivers</a></dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20!usbkd._ehciep%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
