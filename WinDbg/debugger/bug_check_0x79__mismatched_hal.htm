<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The MISMATCHED_HAL bug check has a value of 0x00000079. This bug check indicates that the Hardware Abstraction Layer (HAL) revision level or configuration does not match that of the kernel or the computer."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Bug Check 0x79: MISMATCHED_HAL</title>

<meta name="MS-HAID" content="t05_bugs_60_b500a98d-9fcf-41d7-830c-7afd5e0de11a.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.bug_check_0x79__mismatched_hal"></a>Bug Check 0x79: MISMATCHED_HAL</h1>
</div>
<p>The MISMATCHED_HAL bug check has a value of 0x00000079. This bug check indicates that the Hardware Abstraction Layer (HAL) revision level or configuration does not match that of the kernel or the computer.</p>
<p>
<div class="alert"><b>Important </b>This topic is for programmers. If you are a customer who has received a blue screen error code while using your computer, see 
            <a href="http://windows.microsoft.com/en-us/windows-10/troubleshoot-blue-screen-errors" xmlns:loc="http://microsoft.com/wdcml/l10n">Troubleshoot blue screen errors</a>.</div>
</p>
<h2> MISMATCHED_HAL Parameters</h2>
<p>The following parameters appear on the blue screen. Parameter 1 indicates the type of mismatch.</p>
<table>
<tr>
<th>Parameter 1</th>
<th>Parameter 2</th>
<th>Parameter 3</th>
<th>Parameter 4</th>
<th>Cause.</th>
</tr>
<tr>
<td>
<p>0x1</p>
</td>
<td>
<p>The major processor control block (PRCB) level of Ntoskrnl.exe.</p>
</td>
<td>
<p>The major PRCB level of Hal.dll.</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The PRCB release levels are mismatched.  (Something is out of date.)</p>
</td>
</tr>
<tr>
<td>
<p>0x2</p>
</td>
<td>
<p>The build type of Ntoskrnl.exe.</p>
</td>
<td>
<p>The build type of Hal.dll.</p>
</td>
<td>
<p>Reserved</p>
</td>
<td>
<p>The build types are mismatched.</p>
</td>
</tr>
<tr>
<td>
<p>0x3</p>
</td>
<td>
<p>The size of the loader parameter extension.</p>
</td>
<td>
<p>The major version of the loader parameter extension.</p>
</td>
<td>
<p>The minor version of the loader parameter extension.</p>
</td>
<td>
<p>The loader (ntldr) and HAL versions are mismatched.</p>
</td>
</tr>
</table>
<p> </p>
<p>When Parameter 1 equals 0x2, the following build type codes are used:</p>
<ul>
<li>
<p>0: Multiprocessor-enabled free build</p>
</li>
<li>
<p>1: Multiprocessor-enabled checked build</p>
</li>
<li>
<p>2: Single-processor free build</p>
</li>
<li>
<p>3: Single-processor checked build</p>
</li>
</ul>
<h2>Cause</h2>
<p>The MISMATCHED_HAL bug check often occurs when a user manually updates Ntoskrnl.exe or Hal.dll.</p>
<p>The error can also indicate that one of those two files is out of date. For example, the HAL might be designed for Microsoft Windows 2000 and the kernel is designed for Windows XP. Or the computer might erroneously have a multiprocessor HAL and a single-processor kernel installed, or vice versa.</p>
<p>The Ntoskrnl.exe kernel file is for single-processor systems and Ntkrnlmp.exe is for multiprocessor systems. However, these file names correspond to the files on the installation media.After you have installed the Windows operating system, the file is renamed to Ntoskrnl.exe, regardless of the source file that is used. The HAL file also uses the name Hal.dll after installation, but there are several possible HAL files on the installation media. For more information, see "Installing the Checked Build" in the Windows Driver Kit (WDK).  </p>
<h2>Resolution</h2>
<p>Restart the computer by using the product CD or the Windows Setup disks. At the Welcome screen, press F10 to start the Recovery Console. Use the <b>Copy</b> command to copy the correct HAL or kernel file from the original CD into the appropriate folder on the hard disk. The <b>Copy</b> command detects whether the file that you are copying is in the Microsoft compressed file format. If so, it automatically expands the file that is copied on the target drive.  </p>
<p> </p>
<p> </p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
