<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The SPIN_LOCK_ALREADY_OWNED bug check has a value of 0x0000000F. This indicates that a request for a spin lock has been initiated when the spin lock was already owned."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Bug Check 0xF: SPIN_LOCK_ALREADY_OWNED</title>

<meta name="MS-HAID" content="t04_bugs_00_5328d7fa-f382-4eaf-ac52-eff1b927069f.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.bug_check_0xf__spin_lock_already_owned"></a>Bug Check 0xF: SPIN_LOCK_ALREADY_OWNED</h1>
</div>
<p>The SPIN_LOCK_ALREADY_OWNED bug check has a value of 0x0000000F. This indicates that a request for a spin lock has been initiated when the spin lock was already owned. </p>
<p>
<div class="alert"><b>Important </b>This topic is for programmers. If you are a customer who has received a blue screen error code while using your computer, see 
            <a href="http://windows.microsoft.com/en-us/windows-10/troubleshoot-blue-screen-errors" xmlns:loc="http://microsoft.com/wdcml/l10n">Troubleshoot blue screen errors</a>.</div>
</p>
<h2> SPIN_LOCK_ALREADY_OWNED Parameters</h2>
<p>None</p>
<h2>Cause</h2>
<p>Typically, this error is caused by a recursive request for a spin lock.  It can also occur if something similar to a recursive request for a spin lock has been initiated--for example, when a spin lock has been acquired by a thread, and then that same thread calls a function, which also tries to acquire a spin lock.  The second attempt to acquire a spin lock is not blocked in this case because doing so would result in an unrecoverable deadlock.  If the calls are made on more than one processor, then one processor will be blocked until the other processor releases the lock.</p>
<p>This error can also occur, without explicit recursion, when all threads and all spin locks are assigned an IRQL.  Spin lock IRQLs are always greater than or equal to DPC level, but this is not true for threads.  However, a thread that is holding a spin lock must maintain an IRQL greater than or equal to that of the spin lock.  Decreasing the thread IRQL below the IRQL level of the spin lock that it is holding allows another thread to be scheduled on the processor. This new thread could then attempt to acquire the same spin lock.  </p>
<h2>Resolution</h2>
<p>Ensure that you are not recursively acquiring the lock.  And, for threads that hold a spin lock, ensure that you are not decreasing the thread IRQL to a level below the IRQL of the spin lock that it is holding.</p>
<p> </p>
<p> </p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
