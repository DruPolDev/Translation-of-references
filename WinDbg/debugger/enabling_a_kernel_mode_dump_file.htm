<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Enabling a Kernel-Mode Dump File"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Enabling a Kernel-Mode Dump File</title>

<meta name="MS-HAID" content="r10_dump_files_d9e8043c-8489-4bd3-8f95-b76c2f8a4bf9.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.enabling_a_kernel_mode_dump_file"></a>Enabling a Kernel-Mode Dump File</h1>
</div>
<h2><a id="ddk_enabling_a_kernel_mode_dump_file_dbg"></a><a id="DDK_ENABLING_A_KERNEL_MODE_DUMP_FILE_DBG"></a></h2>
<p>During a system crash, the Windows crash dump settings determine whether a dump file will be created, and if so, what size the dump file will be.</p>
<p>The Windows Control Panel controls the kernel-mode crash dump settings. Only a system administrator can modify these settings.</p>
<p>To change these settings, go to <b>Control Panel &gt; System and Security &gt; System</b>. Click <b>Advanced system settings</b>. Under <b>Startup and Recovery</b>, click <b>Settings</b>.</p>
<p>You will see the following dialog box:</p><img src="images/crashpanel.png" alt="Screen shot of the Startup and Recovery dialog box"/><p>Under <b>Write Debugging Information</b>, you can specify a kernel-mode dump file setting. Only one dump file can be created for any given crash.  See <a href="varieties_of_kernel_mode_dump_files.htm">Varieties of Kernel-Mode Dump Files</a> for a description of different dump file settings.</p>
<p>You can also select or deselect the <b>Write an event to the system log</b> and <b>Automatically restart</b> options.</p>
<p>The settings that you select will apply to any kernel-mode dump file created by a system crash, regardless of whether the system crash was accidental or whether it was caused by the debugger. See <a href="forcing_a_system_crash.htm">Forcing a System Crash</a> for details on causing a deliberate crash.</p>
<p>However, these settings do not affect dump files created by the <a href="_dump__create_dump_file_.htm"><b>.dump</b></a> command. See <a href="creating_a_dump_file_without_a_system_crash.htm">Creating a Dump File Without a System Crash</a> for details on using this command.</p>
<h2><a id="related_topics"></a>Related topics</h2>
<dl>
<dt><a href="kernel_mode_dump_files.htm">Kernel-Mode Dump Files</a></dt>
<dt><a href="varieties_of_kernel_mode_dump_files.htm">Varieties of Kernel-Mode Dump Files</a></dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Enabling a Kernel-Mode Dump File%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
