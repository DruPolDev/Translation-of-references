<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The !wmitrace.searchpath extension specifies the location of the trace message format files for messages in the trace buffers."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>!wmitrace.searchpath</title>

<meta name="MS-HAID" content="r34_exts_WMI_bc37cf69-1e42-4c02-b7e0-ad8563e93124.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger._wmitrace_searchpath"></a>!wmitrace.searchpath</h1>
</div>
<p>The <b>!wmitrace.searchpath</b> extension specifies the location of the trace message format files for messages in the trace buffers.</p>
<pre class="syntax"><b>!wmitrace.searchpath </b>[<b>+</b>]<b> </b><i>TMFPath</i> 
<b>!wmitrace.searchpath</b></pre>
<h2><a id="ddk__wmitrace_searchpath_dbg"></a><a id="DDK__WMITRACE_SEARCHPATH_DBG"></a>Parameters</h2>
<p></p>
<dl>
<dt><a id="______________"></a>       <b>+</b>      </dt>
<dd>
<p>Causes <i>TMFPath</i> to be appended to the existing search path.  If the plus (+) token is not used, <i>TMFPath</i> replaces the existing search path. </p>
</dd>
<dt><a id="_______TMFPath______"></a><a id="_______tmfpath______"></a><a id="_______TMFPATH______"></a>       <i>TMFPath</i>      </dt>
<dd>
<p>The path to the directory where the debugger should look for the trace message format files.  Paths that contain spaces are not supported.  If multiple paths are included, they should be separated by semicolons, and the entire string should be enclosed in quotation marks. If the path is in quotation marks, the backslash character must be preceded by an escape character ( <code>"c:\\debuggers;c:\\debuggers2"</code> ). When the <b>+</b> token is used, <i>TMFPath</i> will be appended to the existing path, with a semicolon automatically inserted between the existing path and the new path; however, if the <b>+</b> token is used, quotation marks cannot be used.  </p>
</dd>
<dt><a id="_____________"></a>             </dt>
<dd></dd>
</dl>
<h3><a id="DLL"></a><a id="dll"></a>DLL</h3>
<p>This extension is exported by Wmitrace.dll. </p>
<p>This extension is available in Windows 2000 and later versions of Windows. If you want to use this extension with Windows 2000, you must first copy the Wmitrace.dll file from the winxp subdirectory of the Debugging Tools for Windows installation directory to the w2kfre subdirectory. </p>
<h3><a id="Additional_Information"></a><a id="additional_information"></a><a id="ADDITIONAL_INFORMATION"></a>Additional Information</h3>
<p>For a conceptual overview of event tracing, see the Microsoft Windows SDK. For information about trace message format files, see the "Trace Message Format Files" topic in the Windows Driver Kit (WDK).</p>
<h2>Remarks</h2>
<p>When used with no parameters, <b>!wmitrace.searchpath</b> displays the current search path. </p>
<p>The trace message format files (*.tmf) contain instructions for formatting the binary trace messages that a trace provider generates. </p>
<p>The <i>TMFPath</i> parameter must contain only a path to a directory; it cannot include a file name. The name of a TMF file is a message GUID followed by the .tmf extension. When the system formats a message, it reads the message GUID on the message and searches recursively for a TMF file whose name matches the message GUID, beginning in the specified directory.</p>
<p>Windows needs a TMF file in order to format the binary trace messages in a buffer. Use <b>!wmitrace.searchpath</b> or <a href="_wmitrace_tmffile.htm"><b>!wmitrace.tmffile</b></a> to specify the TMF file before using <a href="_wmitrace_dynamicprint.htm"><b>!wmitrace.dynamicprint</b></a> or <a href="_wmitrace_logdump.htm"><b>!wmitrace.logdump</b></a> to display trace buffer contents. </p>
<p>If you do not use either <b>!wmitrace.searchpath</b> or <a href="_wmitrace_tmffile.htm"><b>!wmitrace.tmffile</b></a>, the system uses the value of the TRACE_FORMAT_SEARCH_PATH environment variable. If that variable is not present, it uses the default.tmf file, which is included in Windows. If the system cannot find any formatting information for a trace message, it writes a "No format information found" error message in place of the trace message content.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20!wmitrace.searchpath%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
