<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Automatic Memory Dump"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Automatic Memory Dump</title>



<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.automatic_memory_dump"></a>Automatic Memory Dump</h1>
</div>
<h2><a id="ddk_kernel_memory_dump_dbg"></a><a id="DDK_KERNEL_MEMORY_DUMP_DBG"></a></h2>
<p>An <i>Automatic Memory Dump</i> contains the same information as a <a href="kernel_memory_dump.htm">Kernel Memory Dump</a>. The difference between the two is not in the dump file itself, but in the way that Windows sets the size of the system paging file.</p>
<p>If the system paging file size is set to  <b>System managed size</b>, and the kernel-mode crash dump is set to <b>Automatic Memory Dump</b>, then  Windows can set the size of the paging file to less than the size of RAM. In this case, Windows sets the size of the paging file large enough to ensure that a kernel memory dump can be captured most of the time.</p>
<p>If the computer crashes and the paging file is not large enough to capture a kernel memory dump, Windows increases the size of the paging file to at least the size of RAM. The time of this event is recorded here in the Registry:</p>
<p>
<p><b>HKLM</b>\<b>SYSTEM</b>\<b>CurrentControlSet</b>\<b>Control</b>\<b>CrashControl</b>\<b>LastCrashTime</b></p>
</p>
<p>The increased paging file size stays in place for 4 weeks and then returns to the smaller size. If you want to return to the smaller paging file before 4 weeks, you can delete the Registry entry.</p>
<p>To see the paging file settings, go to <b>Control Panel &gt; System and Security &gt; System &gt; Advanced system settings</b>. Under <b>Performance</b>, click <b>Settings</b>. On the <b>Advanced</b> tab, under <b>Virtual memory</b>, click <b>Change</b>. In the Virtual Memory dialog box, you can see the paging file settings.</p><img src="images/VirtualMemoryDialog.png" alt="Screen shot of the Virtual Memory dialog box."/><p></p>
<p></p>
<p>The Automatic Memory Dump file is written to %SystemRoot%\Memory.dmp by default.</p>
<p>The Automatic Memory Dump is available in Windows 8 and later.</p>
<div class="alert"><b>Note</b>  To suppress missing page error messages when debugging an Automatic Memory Dump, use the <a href="_ignore_missing_pages__suppress_missing_page_errors_.htm"><b>.ignore_missing_pages</b></a> command.</div>
<div> </div>
<h2><a id="related_topics"></a>Related topics</h2>
<dl>
<dt><a href="varieties_of_kernel_mode_dump_files.htm">Varieties of Kernel-Mode Dump Files</a></dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Automatic Memory Dump%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
