<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The NTFS_FILE_SYSTEM bug check has a value of 0x00000024. This indicates a problem occurred in ntfs.sys, the driver file that allows the system to read and write to NTFS drives."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Bug Check 0x24: NTFS_FILE_SYSTEM</title>

<meta name="MS-HAID" content="t04_bugs_00_f479ebd3-7b25-4210-8581-a5f5581038a1.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.bug_check_0x24__ntfs_file_system"></a>Bug Check 0x24: NTFS_FILE_SYSTEM</h1>
</div>
<p>The NTFS_FILE_SYSTEM bug check has a value of 0x00000024. This indicates a problem occurred in ntfs.sys, the driver file that allows the system to read and write to NTFS drives.</p>
<p>
<div class="alert"><b>Important </b>This topic is for programmers. If you are a customer who has received a blue screen error code while using your computer, see 
            <a href="http://windows.microsoft.com/en-us/windows-10/troubleshoot-blue-screen-errors" xmlns:loc="http://microsoft.com/wdcml/l10n">Troubleshoot blue screen errors</a>.</div>
</p>
<h2> NTFS_FILE_SYSTEM Parameters</h2>
<p>The following parameters are displayed on the blue screen.</p>
<table>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>
<p>1</p>
</td>
<td>
<p>Specifies source file and line number information. The high 16 bits (the first four hexadecimal digits after the "0x") identify the source file by its identifier number. The low 16 bits identify the source line in the file where the bug check occurred.</p>
</td>
</tr>
<tr>
<td>
<p>2</p>
</td>
<td>
<p>If <b>NtfsExceptionFilter</b> is on the stack, this parameter specifies the address of the exception record.</p>
</td>
</tr>
<tr>
<td>
<p>3</p>
</td>
<td>
<p>If <b>NtfsExceptionFilter</b> is on the stack, this parameter specifies the address of the context record.</p>
</td>
</tr>
<tr>
<td>
<p>4</p>
</td>
<td>
<p>Reserved  </p>
</td>
</tr>
</table>
<p> </p>
<h2>Cause</h2>
<p>One possible cause of this bug check is disk corruption. Corruption in the NTFS file system or bad blocks (sectors) on the hard disk can induce this error. Corrupted hard drive (SATA/IDE) drivers can also adversely affect the system's ability to read and write to disk, thus causing the error.</p>
<h2>Resolution</h2>
<p><b>To debug this problem:</b>  Use the <a href="_cxr__display_context_record_.htm"><b>.cxr (Display Context Record)</b></a> command with Parameter 3, and then use <a href="k__kb__kc__kd__kp__kp__kv__display_stack_backtrace_.htm"><b>kb (Display Stack Backtrace)</b></a>.  </p>
<p><b>To resolve a disk corruption problem:</b></p>
<ul>
<li>
<p>Check Event Viewer for error messages related to the  hard drive appearing in the System Log that might help pinpoint the device or driver that is causing the error. </p>
</li>
<li>
<p>Try disabling any virus scanners, backup programs, or disk defragmenter tools that continually monitor the system. </p>
</li>
<li>
<p>You should also run hardware diagnostics supplied by the system manufacturer related to the storage sub system. </p>
</li>
<li>Use the scan disk utility to confirm that there are no file system errors. Right click on the drive you want to scan and select <b>Properties</b>. Click on <b>Tools</b>. Click the <b>Check now</b> button. </li>
<li>
<p>Confirm that there is sufficient free space on the hard drive. The operating system and some applications require sufficient free space to create swap files and for other functions.   Based on the system configuration, the exact requirement varies,  but it is normally a good idea to have 10% to 15% free space available.</p>
</li>
<li>
<p>Use the System File Checker tool to repair missing or corrupted system files. The System File Checker is a utility in Windows that allows users to scan for corruptions in Windows system files and restore corrupted files. Use the following command to run the    

System File Checker tool (SFC.exe).</p>
<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>SFC /scannow</pre>
</td>
</tr>
</table></span></div>
<p>For more information, see <a href="https://support.microsoft.com/kb/929833">Use the System File Checker tool to repair missing or corrupted system files</a>.</p>
</li>
<li>
<p><b>Driver Verifier</b></p>
<p>Driver Verifier is a tool that runs in real time to examine the behavior of drivers.  If it see errors in the execution of driver code, it proactively creates an exception to allow that part of the driver code to be further scrutinized. The driver verifier manager is built into Windows and is available on all Windows PCs. To start  the driver verifier manager, type <i>Verifer</i> at a command prompt. You can configure which drivers you would like to verify. The code that verifies drivers adds overhead as it runs, so try and verify the smallest number of drivers as possible.  For more information, see Driver Verifier.</p>
</li>
</ul>
<p>In the past, another possible cause of this stop code is depletion of nonpaged pool memory. If the nonpaged pool memory is completely depleted, this error can stop the system. However, during the indexing process, if the amount of available nonpaged pool memory is very low, another kernel-mode driver requiring nonpaged pool memory can also trigger this error. </p>
<p> </p>
<p> </p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
