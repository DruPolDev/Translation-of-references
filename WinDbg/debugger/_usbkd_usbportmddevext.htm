<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The !usbkd.usbportmddevext command displays a usbport!_DEVICE_EXTENSION structure if one is present in a crash dump that was generated as a result Bug Check 0xFE."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>!usbkd.usbportmddevext</title>



<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger._usbkd_usbportmddevext"></a>!usbkd.usbportmddevext</h1>
</div>
<p>The  <b>!usbkd.usbportmddevext</b> command displays a <b>usbport!_DEVICE_EXTENSION</b> structure if one is present in a crash
dump that was generated as a result <a href="bug_check_0xfe__bugcode_usb_driver.htm"><b>Bug Check 0xFE</b></a>.</p>
<pre class="syntax"><b>!usbkd.usbportmddevext</b></pre>
<h2><a id="DLL"></a><a id="dll"></a>DLL</h2>
<p>Usbkd.dll
     </p>
<h2>Remarks</h2>
<p>Use this command only when you are debugging a crash dump file that was generated as a result of <a href="bug_check_0xfe__bugcode_usb_driver.htm"><b>Bug Check 0xFE: BUGCODE_USB_DRIVER</b></a>.</p>
<h2>Examples</h2>
<p>Here is an example of the output of <b>!usbportmddevext</b>.</p>
<pre class="syntax" xml:space="preserve"><code>1: kd&gt; !analyze -v
*** ...
BUGCODE_USB_DRIVER (fe) 
...
1: kd&gt; !usbkd.usbportmddevext
USBPORT.SYS DEVICE_EXTENSION DATA: 
Hcd FDO Extension:
Sig:4f444648 HFDO
CurrentPnpFunc: 0x00000008
PnpFuncHistoryIdx: 0x0000000d
CurrentPowerFunc: 0x00000000
PowerFuncHistoryIdx: 0x00000000
PnpLogIdx: 0x00000002
IoRequestCount: 0x00000007
IoRequestAsyncCallbackCount: 0xffffffff
IoRequestAllow: 0x00000000
Pnp Func History (idx 13)
...
[02] pnp 13 (0d) IRP_MN_FILTER_RESOURCE_REQUIREMENTS
[...
Power Func History (idx 0)
[01] pnp 255 (ff) ??? (x0) PowerDeviceUnspecified
...
	**Power and Wake -----------------------------------------------
	selective suspend:on (1)
	PowerFlags (00000080):
*---FDO---*
PMDebug: 0x00000000
MinAllocedBw: 0x00000000
MaxAllocedBw: 0x00000000
...
------------------
XDPC HISTORY_UsbHcIntDpc
------------------
State History (idx 2)
EVENT, STATE, NEXT 
Log[3] @ 000000d9e7c615cc  
Ev_Xdpc_Worker       XDPC_DpcQueued          XDPC_Running            
...        
------------------
XDPC HISTORY_UsbDoneDpc
------------------
State History (idx 0)
EVENT, STATE, NEXT 
Log[1] @ 000000d9e7c61774  
Ev_Xdpc_Worker       XDPC_DpcQueued          XDPC_Running            
...          
------------------
XDPC HISTORY_UsbMapDpc
------------------
State History (idx 3)
EVENT, STATE, NEXT 
Log[4] @ 000000d9e7c6196c  
...         
------------------
XDPC HISTORY_UsbIocDpc
------------------
State History (idx 0)
EVENT, STATE, NEXT 
Log[1] @ 000000d9e7c61b04  
Ev_Xdpc_Worker       XDPC_DpcQueued          XDPC_Running            
...           </code></pre>
<h2><a id="see_also"></a>See also</h2>
<dl>
<dt><a href="usb_2_0_extensions.htm">USB 2.0 Debugger Extensions</a></dt>
<dt><a href="http://go.microsoft.com/fwlink/p?LinkID=227351">Universal Serial Bus (USB) Drivers</a></dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20!usbkd.usbportmddevext%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
