<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="The GetNext method searches a DebugFailureAnalysis object for the next FA entry, after a given FA entry, that satisfies conditions specified by the Tag and TagMask parameters."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>IDebugFailureAnalysis2::GetNext method</title>



<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.idebugfailureanalysis2_getnext"></a>IDebugFailureAnalysis2::GetNext method</h1>
</div>
<p>   The <b>GetNext</b> method searches a <a href="idebugfailureanalysis2.htm"><b>DebugFailureAnalysis</b></a> object for the next <a href="failure_analysis_entries.htm">FA entry</a>, after a given FA entry, that satisfies conditions specified by the <i>Tag</i> and <i>TagMask</i> parameters.</p>
<h2>Syntax</h2>
<div class="code"><span codelanguage="ManagedCPlusPlus"><table>
<tr>
<th>C++</th>
</tr>
<tr>
<td>
<pre>PFA_ENTRY GetNext(
  [in] PFA_ENTRY Entry,
  [in] FA_TAG    Tag,
  [in] FA_TAG    TagMask
);</pre>
</td>
</tr>
</table></span></div>
<h2>Parameters</h2>
<dl>
<dt><i>Entry</i> [in]</dt>
<dd>
<p>A pointer to an <a href="fa_entry.htm"><b>FA_ENTRY</b></a> structure. The search starts after this <a href="failure_analysis_entries.htm">FA entry</a>. If this parameter is <b>NULL</b>, the starts at the beginning of the collection of FA entries.</p>
</dd>
<dt><i>Tag</i> [in]</dt>
<dd>
<p>A value in the <a href="fa_tag.htm"><b>FA_TAG</b></a> enumeration.</p>
</dd>
<dt><i>TagMask</i> [in]</dt>
<dd>
<p>A mask that restricts the search to a subset of all possible tags. See Remarks. To search all possible tags, set this parameter to <b>DEBUG_FLR_MASK_ALL</b>.</p>
</dd>
</dl>
<h2>Return value</h2>
<p>If the <a href="idebugfailureanalysis2.htm"><b>DebugFailureAnalysis</b></a> object has an <a href="failure_analysis_entries.htm">FA entry</a>, after the given entry, that satisfies the conditions, this method returns a pointer to the <a href="fa_entry.htm"><b>FA_ENTRY</b></a> structure. Otherwise, this method returns <b>NULL</b>.</p>
<h2>Remarks</h2>
<p>This method searches for an <a href="fa_entry.htm"><b>FA_ENTRY</b></a> structure that satisfies this condition:</p>
<p>entry-&gt;Tag &amp; <i>TagMask</i> == <i>Tag</i></p>
<p>Tags are defined in extsfns.h as values of the <a href="debug_flr_param_type.htm"><b>DEBUG_FLR_PARAM_TYPE</b></a> enumeration, which is also called the <a href="fa_tag.htm"><b>FA_TAG</b></a> enumeration. The tags are arranged in groups so that you can use <i>TagMask</i> to search within a particular group. For example there is a group of tags related to pool errors. The numerical values assigned to the tags in this group are in the range 0x400, 0x401 ... 0x406. Every <a href="fa_entry.htm"><b>FA_ENTRY</b></a> that has a tag in this group satisfies the following condition:</p>
<p><code>entry-&gt;Tag &amp; 0xFFFFFF00 == 0x400</code></p>
<p>The following code snippet shows a portion of the <a href="fa_tag.htm"><b>FA_TAG</b></a> enumeration.</p>
<div class="code"><span codelanguage="ManagedCPlusPlus"><table>
<tr>
<th>C++</th>
</tr>
<tr>
<td>
<pre>...
// Pool
DEBUG_FLR_POOL_ADDRESS = 0x400,
DEBUG_FLR_SPECIAL_POOL_CORRUPTION_TYPE,
DEBUG_FLR_CORRUPTING_POOL_ADDRESS,
DEBUG_FLR_CORRUPTING_POOL_TAG,
DEBUG_FLR_FREED_POOL_TAG,
DEBUG_FLR_LEAKED_SESSION_POOL_TAG,
DEBUG_FLR_CLIENT_DRIVER,

// Filesystem
DEBUG_FLR_FILE_ID = 0x500,
DEBUG_FLR_FILE_LINE,
...</pre>
</td>
</tr>
</table></span></div>
<h2>Examples</h2>
<p><b>Example 1</b></p>
<p>The following example shows how to find all failure analysis entries that have a tag equal to <b>DEBUG_FLR_MANAGED_EXCEPTION_OBJECT</b>. Assume <code>pAnalysis</code> is a pointer to an <a href="idebugfailureanalysis2.htm"><b>IDebugFailureAnalysis2</b></a> interface.</p>
<div class="code"><span codelanguage="ManagedCPlusPlus"><table>
<tr>
<th>C++</th>
</tr>
<tr>
<td>
<pre>FA_ENTRY entry = pAnalysis-&gt;Get(DEBUG_FLR_MANAGED_EXCEPTION_OBJECT);

while(NULL != entry)
{
   // Do something with the entry.

   entry = pAnalysis-&gt;GetNext(DEBUG_FLR_MANAGED_EXCEPTION_OBJECT, DEBUG_FLR_MASK_ALL);
}</pre>
</td>
</tr>
</table></span></div>
<p><b>Example 2</b></p>
<p>The following example shows how to find all FA entries that have tags in the Pool group. Recall the tags in the Pool group have values in the range 0x400, 0x401, ... 0x406. Assume <code>pAnalysis</code> is a pointer to an <a href="idebugfailureanalysis2.htm"><b>IDebugFailureAnalysis2</b></a> interface.</p>
<div class="code"><span codelanguage="ManagedCPlusPlus"><table>
<tr>
<th>C++</th>
</tr>
<tr>
<td>
<pre>FA_ENTRY entry = pAnalysis-&gt;GetNext(NULL, (FA_TAG)0x400, (FA_TAG)0xFFFFFF00);

while(NULL != entry)
{
   // Do something with the entry.

   entry = pAnalysis-&gt;GetNext(entry, (FA_TAG)0x400, (FA_TAG)0xFFFFFF00);
}</pre>
</td>
</tr>
</table></span></div>
<p><b>Example 3</b></p>
<p>You can create your own custom tags in the range 0xA0000001 through 0xAFFFFFFF.</p>
<p>The following example shows how to find all failure analysis entries that have custom tags. In other words, the code finds all entries with tags that satisfy this condition:</p>
<p><code>entry-&gt;Tag &amp; 0xF0000000 == 0xA0000000</code></p>
<p>Entries that have tags 0xA0000001, 0xA0000002, ... 0xAFFFFFF satisfy the condition. </p>
<div class="code"><span codelanguage="ManagedCPlusPlus"><table>
<tr>
<th>C++</th>
</tr>
<tr>
<td>
<pre>
FA_ENTRY entry = pAnalysis-&gt;GetNext(NULL, (FA_TAG)0xA0000000, (FA_TAG)0xF0000000);

while(NULL != entry)
{
   // Do something with the Entry

   entry = pAnalysis-&gt;GetNext(entry, (FA_TAG)0xA0000000, (FA_TAG)0xF0000000);
}</pre>
</td>
</tr>
</table></span></div>
<h2>Requirements</h2>
<table>
<tr>
<th width="30%">
<p>Target platform</p>
</th>
<td width="70%">
<dl>
<dt></dt>
</dl>
</td>
</tr>
<tr>
<th width="30%">
<p>Header</p>
</th>
<td width="70%">
<dl>
<dt>Extsfns.h</dt>
</dl>
</td>
</tr>
</table>
<h2><a id="see_also"></a>See also</h2>
<dl>
<dt><a href="idebugfailureanalysis2.htm"><b>IDebugFailureAnalysis2</b></a></dt>
<dt><a href="writing_an_analysis_extension_to_extend__analyze.htm">Writing an Analysis Extension Plug-in to Extend !analyze</a></dt>
<dt><a href="idebugfailureanalysis2_get.htm"><b>Get</b></a></dt>
<dt><a href="idebugfailureanalysis2_nextentry.htm"><b>NextEntry</b></a></dt>
<dt><a href="_efn_analyze.htm"><b>_EFN_Analyze</b></a></dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20IDebugFailureAnalysis2::GetNext method%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
