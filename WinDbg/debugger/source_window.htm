<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Source Code Debugging in WinDbg"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Source Code Debugging in WinDbg</title>

<meta name="MS-HAID" content="r36_gui_1_ea5c9fec-a311-4ddc-8418-23737796865f.xml"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="debugger.source_window"></a>Source Code Debugging in WinDbg</h1>
</div>
<h2><a id="ddk_source_path_dbg"></a><a id="DDK_SOURCE_PATH_DBG"></a>Source Path</h2>
<p>The source path specifies the directories where the C and C++ source files are located. For more information about viewing source code in the debugger, see <a href="source_code.htm">Source Code</a>.</p>
<div class="alert"><b>Note</b>    If you are connected to a corporate network, the most efficient way to access source files is to use a source server. You can use a source server by using the srv* string within your source path. For more information about source servers, see <a href="using_a_source_server.htm">Using a Source Server</a>. </div>
<div> </div>
<p>To control the source path in WinDbg, do one of the following:</p>
<ul>
<li>
<p>
         Choose <b>Source File Path</b> from the <b>File</b> menu or press CTRL+P.</p>
</li>
<li>
<p>Use the <a href="_srcpath___lsrcpath__set_source_path_.htm"><b>.srcpath (Set Source Path)</b></a> command. If you are using a source server, <a href="_srcfix___lsrcfix__use_source_server_.htm"><b>.srcfix (Use Source Server)</b></a> is slightly easier.</p>
</li>
<li>
<p>
         Use the <a href="_srcpath___lsrcpath__set_source_path_.htm"><b>.lsrcpath (Set Local Source Path)</b></a> command. If you are using a source server, <a href="_srcfix___lsrcfix__use_source_server_.htm"><b>.lsrcfix (Use Local Source Server)</b></a> is slightly easier.</p>
</li>
<li>
<p>When you start the debugger, use the <b>-srcpath</b> or <b>-lsrcpath</b> command-line option. See <a href="windbg_command_line_options.htm"><b>WinDbg Command-Line Options</b></a>.</p>
</li>
<li>
<p>Before you start the debugger, set the _NT_SOURCE_PATH <a href="environment_variables.htm">environment variable</a>.</p>
</li>
</ul>
<h2><a id="Opening_and_Closing_Source_Files"></a><a id="opening_and_closing_source_files"></a><a id="OPENING_AND_CLOSING_SOURCE_FILES"></a>Opening and Closing Source Files</h2>
<p>To open or close a source file directly, do one of the following:</p>
<ul>
<li>
<p>Choose <b>Open Source File</b> from the <b>File</b> menu, or press CTRL+O. You can also use the <b>Open source file</b> button (<img src="images/tbopen.png" alt="Screen shot of the Open Source File button"/>) on the toolbar.
</p>
<div class="alert"><b>Note</b>  When you use the menu or the toolbar button to open a source file, the path of that file is automatically appended to the source path.

</div>
<div> </div>
</li>
<li>Choose <b>Close Current Window</b> from the <b>File</b> menu.</li>
<li>Click the <b>Close</b> button in the corner of the Source window.</li>
<li>Choose <b>Recent Files</b> from the <b>File</b> menu to open one of the four source files that you most recently opened in WinDbg.
</li>
<li>Enter the <a href="_open__open_source_file_.htm"><b>.open (Open Source File)</b></a> command.
</li>
<li>Enter the <a href="lsf__lsf___load_or_unload_source_file_.htm"><b>lsf (Load or Unload Source File)</b></a> command.</li>
</ul>
<h2><a id="ddk_source_windows_dbg"></a><a id="DDK_SOURCE_WINDOWS_DBG"></a></h2>
<p>In WinDbg, the Source window displays source files that have been loaded into the debugger. </p>
<h3><a id="opening_the_source_window"></a><a id="OPENING_THE_SOURCE_WINDOW"></a>Opening the Source Window</h3>
<p>The debugger opens a source window when it loads a new source file. To restore or switch to an open Source window, go to the <b>Window</b> menu and choose from the list of windows at the bottom of the menu.</p>
<p>The following screen shot  shows an example of a Source window.</p><img src="images/window-source.png" alt="Screen shot of the Source window, displaying a source file that has been loaded into the debugger"/><p>Each source file resides in its own Source window. The title of each Source window is the full path of the source file.</p>
<h3><a id="using_the_source_window"></a><a id="USING_THE_SOURCE_WINDOW"></a>Using the Source Window</h3>
<p>Each Source window displays the text of one source file. You cannot edit a source file in the debugger. For more information about changing the font and tab settings, see <a href="changing_text_properties.htm">Changing Text Properties</a>.</p>
<p>Each Source window has a shortcut menu with additional commands. To access the menu, right-click the title bar or click the icon that appears near the upper-right corner of the window (<img src="images/window-source-icon.PNG" alt="Screen shot of the button that displays the Source window toolbar shortcut menu"/>). The following list describes some of the menu commands:</p>
<ul>
<li>
<p><b>Set instruction pointer to current line</b> changes the value of the instruction pointer to the instruction that corresponds to the current line. This command is equivalent to using the <a href="edit___set_current_instruction.htm">Edit | Set Current Instruction</a> command or pressing CTRL+SHIFT+I.</p>
</li>
<li><b>Edit this file</b> opens the source file in a text editor. The editor is determined by the WinDiff editor registry information or by the value of the WINDBG_INVOKE_EDITOR environment variable. For example, consider the case when the value of WINDBG_INVOKE_EDITOR is the following.<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>c:\my\path\myeditor.exe -file %f -line %l</pre>
</td>
</tr>
</table></span></div>
<p>In this case, Myeditor.exe will open to the one-based line number of the current source file. The %l option indicates that line numbers should be read as one-based, while %f indicates that the current source file should be used. Other substitution possibilities include %L, which indicates that line numbers are zero-based, and %p, which can also indicate that the current source file should be used.  </p>
</li>
<li>
<p>
       <b>Evaluate selection</b> evaluates the currently selected text by using the C++ expression evaluator. The result appears in the <a href="debugger_command_window.htm">Debugger Command window</a>. If the selected text includes more than one line, a syntax error results. This command is equivalent to using the <a href="edit___evaluate_selection.htm">Edit | Evaluate Selection</a> command, pressing CTRL+SHIFT+V, or using the  <a href="____evaluate_c___expression_.htm"><b>?? (Evaluate C++ Expression)</b></a> command with the selected text as its argument.</p>
</li>
<li>
<p><b>
       Display selected type</b> displays the data type of the selected object. This display appears in the Debugger Command window. If the selected text includes more than a single object, a syntax error or other irregular results might be displayed. This command is equivalent to using the <a href="edit___display_selected_type.htm">Edit | Display Selected Type</a> command or pressing CTRL+SHIFT+Y.</p>
</li>
<li>
<p>
        
       <b>Open memory window for selection</b> opens a new docked Memory window that displays memory starting at the address of the selected expression.</p>
</li>
<li>
<p>
        
       <b>Add selection to Watch window</b> appends the selected source token to the Watch window.</p>
</li>
<li>
<p><b>
       Disassemble at current line</b> causes the instruction that corresponds to the current line to appear in the <a href="disassembly_window.htm">Disassembly window</a>. The selected line is highlighted in the Source window and in the Disassembly window, but this command affects only the display&#8212;the instruction pointer is not changed. If the Disassembly window is closed when this command is clicked, it is opened.</p>
</li>
<li>
<p><b>
       Select source language</b> displays a list of programming languages. Select the programming language that you used to generate the source file, and then click <b>OK</b> to enable basic syntax highlighting for the current Source window. Select <b>&lt;None&gt;</b> to disable syntax highlighting for the current Source window.</p>
</li>
</ul>
<h3><a id="source_window_colors_and_hover_evaluation"></a><a id="SOURCE_WINDOW_COLORS_AND_HOVER_EVALUATION"></a>Source Window Colors and Hover Evaluation</h3>
<p>If the debugger recognizes the source file name extension, the Source window displays certain syntax elements in color. To turn off or change the colors, do the following:</p>
<ul>
<li>
<p>To turn the syntax colors off in a single window, open the Source window's shortcut menu, click <b>Select source language</b>, and then click <b>&lt;None&gt;</b>. </p>
</li>
<li>
<p>To turn the syntax colors off for all Source windows, choose <b>Options</b> from the <b>View</b> menu. Then clear the <b>Parse Source Languages</b> check box.</p>
</li>
<li>
<p>To change the syntax colors, choose <b>Options</b> from the <b>View</b> menu. Then, in the <b>Colors</b> area, select a syntax element and click the <b>Change</b> button to change the color.</p>
</li>
<li>
<p>The parsing method that is used for the highlighting is determined by the programming language that is associated with the file extension for the source file. To change the programming language that is associated with a specific file extension, use the <a href="view___source_language_file_extensions.htm">File Extensions for Source Languages dialog box</a>. To open this dialog box, choose <b>Source language file extensions</b> from the <b>View</b> menu.</p>
</li>
</ul>
<p>The line that represents the current program counter is highlighted. Lines at which breakpoints are set are highlighted as well.</p>
<p>If you select a Source window and then use the mouse to hover over a symbol in that window, the symbol will be evaluated. The evaluation is the same as that produced by the <a href="dt__display_type_.htm"><b>dt (Display Type)</b></a> command. To deactivate this evaluation, choose <b>Options</b> from the <b>View</b> menu. Then clear the <b>Evaluate on hover</b> check box.</p>
<h3><a id="additional_information"></a><a id="ADDITIONAL_INFORMATION"></a>Additional Information</h3>
<p>For more information about source debugging and related commands, see <a href="debugging_in_source_mode.htm">Debugging in Source Mode</a>.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20Source Code Debugging in WinDbg%20 RELEASE:%20(3/16/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
