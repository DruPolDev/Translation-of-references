<HTML xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:script2="urn:script2" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:ApiRef="http://msdn.microsoft.com/apiref">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>SymSetOptions Function</TITLE><META NAME="MS-HAID" CONTENT="_win32_symsetoptions">
<!-- Built on Tuesday, September 25, 2007 -->
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../common/backsdk4.css"/>
<SCRIPT SRC="../common/langref.js"></SCRIPT>
</HEAD>
<BODY TOPMARGIN="0">
<DIV class="clsServerSDKContent">
<H1><A NAME="base.symsetoptions"></A>SymSetOptions Function</H1>
<P><P>Sets the options mask.</P>
</P>
<PRE class="syntax" xml:space="preserve">
DWORD WINAPI SymSetOptions(
  __in          DWORD <I>SymOptions</I>
);
</PRE>
<H4>Parameters</H4>
<DL>
<DT><I>SymOptions</I></DT>
<DD>
<p>The symbol options. Zero is a valid value and indicates that all options are turned off. The options values are combined using the OR operator to form a valid options value. The following are valid values. 

</p>
<TABLE class="clsStd">
<TR>
<TH>Value</TH>
<TH>Meaning</TH>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_ALLOW_ABSOLUTE_SYMBOLS<BR>0x00000800</p>
</TD>
<TD width="60%"><p>Enables the use of symbols that are stored with absolute addresses. Most symbols are stored as RVAs from the base of the module. DbgHelp translates them to absolute addresses. There are symbols that are stored as an absolute address. These have very specialized purposes and are typically not used.</p>
<BLOCKQUOTE><B>DbgHelp 5.1 and earlier:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_ALLOW_ZERO_ADDRESS<BR>0x01000000</p>
</TD>
<TD width="60%"><p>Enables the use of symbols that do not have an address. By default, DbgHelp filters out symbols that do not have an address.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_AUTO_PUBLICS<BR>0x00010000</p>
</TD>
<TD width="60%"><p>Do not search the public symbols when searching for symbols by address, or when enumerating symbols, unless they were not found in the global symbols or within the current scope. This option has no effect with SYMOPT_PUBLICS_ONLY.</p>
<BLOCKQUOTE><B>DbgHelp 5.1 and earlier:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_CASE_INSENSITIVE<BR>0x00000001</p>
</TD>
<TD width="60%"><p>All symbol searches are insensitive to case.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_DEBUG<BR>0x80000000</p>
</TD>
<TD width="60%"><p>Pass debug output through <b>OutputDebugString</b> or the  <A HREF="symregistercallbackproc64.htm"><b>SymRegisterCallbackProc64</b></A> callback function.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_DEFERRED_LOADS<BR>0x00000004</p>
</TD>
<TD width="60%"><p>Symbols are not loaded until a reference is made requiring the symbols be loaded. This is the fastest, most efficient way to use the symbol handler.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_DISABLE_SYMSRV_AUTODETECT<BR>0x02000000</p>
</TD>
<TD width="60%"><p>TBD</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_EXACT_SYMBOLS<BR>0x00000400</p>
</TD>
<TD width="60%"><p>Do not load an unmatched .pdb file. Do not load export symbols if all else fails.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_FAIL_CRITICAL_ERRORS<BR>0x00000200</p>
</TD>
<TD width="60%"><p>Do not display system dialog boxes when there is a media failure such as no media in a drive. Instead, the failure happens silently.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_FAVOR_COMPRESSED<BR>0x00800000</p>
</TD>
<TD width="60%"><p>If there is both an uncompressed and a compressed file available, favor the compressed file. This option is good for slow connections.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_FLAT_DIRECTORY<BR>0x00400000</p>
</TD>
<TD width="60%"><p>Symbols are stored in the root directory of the default downstream store.</p>
<BLOCKQUOTE><B>DbgHelp 6.1 and earlier:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_IGNORE_CVREC<BR>0x00000080</p>
</TD>
<TD width="60%"><p>Ignore path information in the CodeView record of the image header when loading a .pdb file.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_IGNORE_IMAGEDIR<BR>0x00200000</p>
</TD>
<TD width="60%"><p>Ignore the image directory.</p>
<BLOCKQUOTE><B>DbgHelp 6.1 and earlier:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_IGNORE_NT_SYMPATH<BR>0x00001000</p>
</TD>
<TD width="60%"><p>Do not use the path specified by _NT_SYMBOL_PATH if the user calls 
<A HREF="symsetsearchpath.htm"><b>SymSetSearchPath</b></A> without a valid path.</p>
<BLOCKQUOTE><B>DbgHelp 5.1:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_INCLUDE_32BIT_MODULES<BR>0x00002000</p>
</TD>
<TD width="60%"><p>When debugging on 64-bit Windows, include any 32-bit modules.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_LOAD_ANYTHING<BR>0x00000040</p>
</TD>
<TD width="60%"><p>Disable checks to ensure a file (.exe, .dbg., or .pdb) is the correct file. Instead, load the first file located.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_LOAD_LINES<BR>0x00000010</p>
</TD>
<TD width="60%"><p>Loads line number information.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_NO_CPP<BR>0x00000008</p>
</TD>
<TD width="60%"><p>All C++ decorated symbols containing the symbol separator "::" are replaced by "__". This option exists for debuggers that cannot handle parsing real C++ symbol names.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_NO_IMAGE_SEARCH<BR>0x00020000</p>
</TD>
<TD width="60%"><p>Do not search the image for the symbol path when loading the symbols for a module if the module header cannot be read.</p>
<BLOCKQUOTE><B>DbgHelp 5.1:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_NO_PROMPTS<BR>0x00080000</p>
</TD>
<TD width="60%"><p>Prevents prompting for validation from the symbol server.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_NO_PUBLICS<BR>0x00008000</p>
</TD>
<TD width="60%"><p>Do not search the publics table for symbols. This option should have little effect because there are copies of the public symbols in the globals table.</p>
<BLOCKQUOTE><B>DbgHelp 5.1:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_NO_UNQUALIFIED_LOADS<BR>0x00000100</p>
</TD>
<TD width="60%"><p>Prevents symbols from being loaded when the caller examines symbols across multiple modules. Examine only the module whose symbols have already been loaded.</p>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_OVERWRITE<BR>0x00100000</p>
</TD>
<TD width="60%"><p>Overwrite the downlevel store from the symbol store.</p>
<BLOCKQUOTE><B>DbgHelp 6.1 and earlier:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_PUBLICS_ONLY<BR>0x00004000</p>
</TD>
<TD width="60%"><p>Do not use private symbols. The version of DbgHelp that shipped with Windows 2000 and earlier supported only public symbols; this option provides compatibility with this limitation.</p>
<BLOCKQUOTE><B>DbgHelp 5.1:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_SECURE<BR>0x00040000</p>
</TD>
<TD width="60%"><p>DbgHelp will not load any symbol server other than SymSrv. SymSrv will not use the downstream store specified in _NT_SYMBOL_PATH. After this flag has been set, it cannot be cleared.</p>
<BLOCKQUOTE><B>DbgHelp 6.0 and 6.1:  </B>This flag can be cleared.</BLOCKQUOTE>
<BLOCKQUOTE><B>DbgHelp 5.1:  </B>This value is not supported.</BLOCKQUOTE>
</TD>
</TR>
<TR>
<TD width="40%">
<p>SYMOPT_UNDNAME<BR>0x00000002</p>
</TD>
<TD width="60%"><p>All symbols are presented in undecorated form. 


</p>
<P>This option has no effect on global or local symbols because they are stored undecorated. This option applies only to public symbols.</P>
</TD>
</TR>
</TABLE>
</DD>
</DL>
<H4>Return Value</H4>
<P>The function returns the current options mask.</P>
<H4>Remarks</H4>
<p>The options value can be changed any number of times while the library is in use by an application. The option change affects all future calls to the symbol handler.</p>
<p>To get the current options mask, call the 
<A HREF="symgetoptions.htm"><b>SymGetOptions</b></A> function.</p>
<p>All DbgHelp functions, such as this one, are single threaded. Therefore, calls from more than one thread to this function will likely result in unexpected behavior or memory corruption. To avoid this, you must synchronize all concurrent calls from more than one thread to this function.</p>
<H4>Example Code 
</H4>
<p>For an example, see 
<A HREF="initializing_the_symbol_handler.htm">Initializing the Symbol Handler</A>.</p>
<H4>Requirements</H4>
<TABLE CLASS="psdkRequirements">
<TR>
<TH><P>Redistributable</P></TH>
<TD><P>Requires DbgHelp.dll 5.1 or later.</P></TD>
</TR>
<TR>
<TH><P>Header</P></TH>
<TD>
<P>Declared in Dbghelp.h.</P>
</TD>
</TR>
<TR>
<TH><P>Library</P></TH>
<TD>
<P>Use Dbghelp.lib.</P>
</TD>
</TR>
<TR>
<TH><P>DLL</P></TH>
<TD>
<P>Requires Dbghelp.dll.</P>
</TD>
</TR>
</TABLE>
<H4>See Also</H4>
<P><A HREF="dbghelp_functions.htm">DbgHelp Functions</A><BR><A HREF="symgetoptions.htm"><b>SymGetOptions</b></A></P><br><P><A HREF="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [base]:%20SymSetOptions%20 RELEASE:%20(9/25/2007)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe SDK team uses the feedback submitted to improve the SDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." TITLE="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft
       </A></P>
<P STYLE="font-family: Verdana,sans-serif;font-size:8pt">Build date: 9/25/2007</P>
</DIV>
<DIV CLASS="footer"><P>&nbsp;</P></DIV>
<P style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&copy;&nbsp;2007 Microsoft Corporation. All rights reserved.</P>
</BODY>
</HTML>
